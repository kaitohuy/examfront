<h2 mat-dialog-title class="flex items-center mt-4">
  <mat-icon>block</mat-icon>
  Từ chối file
</h2>

<div mat-dialog-content class="content-wrap">
  <div class="info">
    <div><b>File:</b> {{ data.filename }}</div>
    <div><b>Môn:</b> {{ data.subjectName || ('#' + data.subjectId) }}</div>
    <div><b>Người tạo:</b> {{ data.uploaderName || '—' }}</div>
  </div>

  <mat-form-field appearance="outline" class="w-100">
    <mat-label>Lý do từ chối (tuỳ chọn)</mat-label>
    <textarea matInput rows="4" [formControl]="reason" placeholder="VD: Sai mẫu, thiếu mục A/B..."></textarea>
  </mat-form-field>

  <div class="d-flex justify-content-between">
    <mat-form-field appearance="outline" class="col-4">
      <mat-label>Hạn xử lý</mat-label>
      <mat-select [formControl]="preset">
        <mat-option value="none">Không đặt hạn</mat-option>
        <mat-option value="4h">+4 giờ</mat-option>
        <mat-option value="8h">+8 giờ</mat-option>
        <mat-option value="24h">+24 giờ</mat-option>
        <mat-option value="3d">+3 ngày</mat-option>
        <mat-option value="7d">+7 ngày</mat-option>
        <mat-option value="custom">Tự nhập…</mat-option>
      </mat-select>
    </mat-form-field>

    <div *ngIf="showCustom()" class="col-8">
      <mat-form-field appearance="outline" class="col-6 mx-4">
        <mat-label>Chọn ngày giờ</mat-label>
        <input matInput [matDatepicker]="dlPicker" [formControl]="customDate">
        <mat-datepicker-toggle matSuffix [for]="dlPicker"></mat-datepicker-toggle>
        <mat-datepicker #dlPicker></mat-datepicker>
      </mat-form-field>

      <mat-form-field appearance="outline" class="col-4">
        <mat-label>Giờ (0–23)</mat-label>
        <input matInput type="number" min="0" max="23" [formControl]="customHour">
      </mat-form-field>
    </div>
  </div>

  <div class="preview">
    <mat-icon>schedule</mat-icon>
    <span>Sẽ đặt hạn: <b>{{ deadlinePreview() }}</b></span>
  </div>
</div>

<div mat-dialog-actions align="end" class="mt-2">
  <button mat-button (click)="cancel()">Huỷ</button>
  <button mat-flat-button color="warn" (click)="submit()">
    Reject
  </button>
</div>
